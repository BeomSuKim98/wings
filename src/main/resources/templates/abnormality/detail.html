<!-- src/main/resources/templates/post/detail.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${post.title}">글 상세</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; }
    .muted { color:#777; }
    .meta { margin: .75rem 0 1.25rem; color:#555; font-size:.95rem; }
    .content { border:1px solid #eee; background:#fafafa; padding:1rem; }
    .btns a { display:inline-block; margin-right:.5rem; }
  </style>
</head>
<body>
<div class="btns">
  <a th:href="@{/posts}">← 목록</a>
</div>

<h1 th:text="${post.title}">제목</h1>
<div class="meta">
    <span>
      작성자:
      <strong th:if="${post.anonymous}"
              th:text="${post.anonDisplayName != null ? post.anonDisplayName : '익명'}">익명</strong>
      <strong th:unless="${post.anonymous}"
              th:text="${post.author != null ? post.author.username : '알 수 없음'}">작성자</strong>
    </span>
  <span class="muted" style="margin-left:.75rem;"
        th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">2025-09-16 12:34</span>
</div>

<!-- 저장된 HTML을 그대로 렌더 (XSS 주의: 관리자/작성자만 올린 안전한 HTML이라고 가정) -->
<div class="content" th:utext="${post.contentHtml}"><p>본문</p></div>

<!-- (옵션) 댓글 영역 자리표시자 -->
<div th:if="${post.allowComment}" class="muted" style="margin-top:1rem;">※ 댓글 기능 준비중</div>
</body>
</html>
