<!-- src/main/resources/templates/post/list.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>글 목록</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border-bottom: 1px solid #eee; padding: .6rem .4rem; text-align: left; }
    th { background: #fafafa; }
    .muted { color:#777; font-size:.9rem; }
  </style>
</head>
<body>
<h1>글 목록 <span class="muted" th:text="'('+${total}+'건)'">(...건)</span></h1>
<p class="muted"><a th:href="@{/}">홈</a></p>

<table>
  <thead>
  <tr>
    <th style="width:80px;">ID</th>
    <th>제목</th>
    <th style="width:220px;">작성자</th>
    <th style="width:200px;">작성일</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="p : ${posts}">
    <td th:text="${p.id}">1</td>
    <td>
      <a th:href="@{|/posts/${p.id}|}" th:text="${p.title}">제목</a>
    </td>
    <td>
          <span th:if="${p.anonymous}"
                th:text="${p.anonDisplayName != null ? p.anonDisplayName : '익명'}">익명</span>
      <span th:unless="${p.anonymous}"
            th:text="${p.author != null ? p.author.username : '알 수 없음'}">작성자</span>
    </td>
    <td th:text="${#temporals.format(p.createdAt, 'yyyy-MM-dd HH:mm')}">2025-09-16 12:34</td>
  </tr>
  <tr th:if="${#lists.isEmpty(posts)}">
    <td colspan="4" class="muted">등록된 글이 없습니다.</td>
  </tr>
  </tbody>
</table>
</body>
</html>
