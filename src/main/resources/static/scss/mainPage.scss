@use './foundation' as f;
// @use 'sass:color'; // color-mix()로 대체되어 불필요
@use './page/home/mainContent';
@use './foundation/variables.scss';

/* =========================
   Tab Bar (Top)
   ========================= */
body { overflow-x: hidden; }

#TabmenuTop {
  display: flex;
  align-items: flex-end; /* 탭 하단 기준 정렬 */
  /* 어두운 바: 인버스 배경을 살짝 더 어둡게 */
  background: color-mix(in srgb, var(--bg-invert, #202020) 85%, black 15%);
  border-bottom: 1px solid var(--border-strong, #b8b8b8);

  .tab {
    flex: 0 0 auto; /* 폭 고정(내용만큼), 줄바꿈 없음 */
    display: inline-flex;
    align-items: baseline;
    gap: f.rem(8);
    padding: f.rem(6) f.rem(12);
    font-size: var(--fs-200); /* ~14px 급 */
    color: var(--text-inverse, #f1f1f1);
    cursor: pointer;
    user-select: none;
    transition:
      background-color .16s ease,
      color .16s ease,
      box-shadow .16s ease;

    &:hover {
      /* 인버스 배경에 화이트 10% 섞어 약간 밝게 */
      background: color-mix(in srgb, var(--bg-invert, #6e6e6e) 90%, white 10%);
      color: var(--text-primary, #0f172a);
    }

    &.active {
      /* 활성 탭은 메인 톤 */
      background: var(--bg-invert, #6e6e6e);
      color: var(--text-inverse, #f1f1f1);
    }

    /* 닫기 버튼 */
    .tab-close {
      width: f.rem(18);
      height: f.rem(18);
      padding: 0;
      border: 0;
      background: transparent;
      color: currentColor;
      opacity: .7;
      cursor: pointer;
      transition: opacity .16s ease, background-color .16s ease;

      &:hover { opacity: 1; background: color-mix(in srgb, white 6%, transparent); }
      &:focus-visible { outline: 2px solid var(--border-strong, #b8b8b8); outline-offset: 2px; }
    }
  }

  /* 모바일(≤xs)에서 탭 간격 소폭 축소 */
  @include f.mq($to: xs) {
    gap: f.rem(6);

    .tab {
      padding: f.rem(6) f.rem(10);
      font-size: var(--fs-200); /* 유지 */
    }
  }
}


/* =========================
   Tab Content (Bottom)
   ========================= */
#TabmenuBottom {
  border-top: none; /* 탭과 자연스럽게 연결 */
  /* 내용 영역: 인버스 배경에 블랙 8% 섞어 약간 더 어둡게 */
  background: color-mix(in srgb, var(--bg-invert, #6e6e6e) 92%, black 8%);
  color: var(--text-inverse, #f1f1f1);
  padding: f.rem(16);
  min-height: f.rem(160);

  .tab-pane[hidden] { display: none; }

  /* 반응형 */
  @include f.mq($to: xs) {
    padding: f.rem(12);
    min-height: f.rem(120);
  }
}
